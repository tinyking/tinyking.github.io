

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&quot;auto&quot;>



<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="努力做最好的自己">
  <meta name="author" content="TinyKing">
  <meta name="keywords" content="undefined">
  <title>A Guide To OAuth 2.0 Grants - 爱笑笑，爱生活</title>

  <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css">


  <link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css">
  <link rel="stylesheet" href="/lib/hint/hint.min.css">

  
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css">
  

  


<!-- 主题依赖的图标库，不要自行修改 -->
<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_6peoq002giu.css">

<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">

<link rel="stylesheet" href="/css/main.css">

<!-- 自定义样式保持在最底部 -->


  <script src="/js/utils.js"></script>
  <script src="/js/color-schema.js"></script>
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>爱笑笑，爱生活</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('https://i.loli.net/2020/08/17/35FZ8rubRnfAKhG.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2018-10-26 14:24" pubdate>
      2018年10月26日 下午
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      1.6k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      32
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">A Guide To OAuth 2.0 Grants</h1>
            
            <div class="markdown-body" id="post-body">
              <p>The <a href="http://tools.ietf.org/html/rfc6749" target="_blank" rel="noopener">OAuth 2.0 specification</a> is a flexibile authorization framework that describes a number of grants (“methods”) for a client application to acquire an access token (which represents a user’s permission for the client to access their data) which can be used to authenticate a request to an API endpoint.</p>
<a id="more"></a>
<p>The specification describes five grants for acquiring an access token:</p>
<ul>
<li>Authorization code grant</li>
<li>Implicit grant</li>
<li>Resource owner credentials grant</li>
<li>Client credentials grant</li>
<li>Refresh token grant</li>
</ul>
<p>In this post I’m going to describe each of the above grants and their appropriate use cases.</p>
<p>As a refresher here is a quick glossary of OAuth terms (taken from the core spec):</p>
<ul>
<li><strong>Resource owner (a.k.a. the User)</strong> - An entity capable of granting access to a protected resource. When the resource owner is a person, it is referred to as an end-user.</li>
<li><strong>Resource server (a.k.a. the API server)</strong> - The server hosting the protected resources, capable of accepting and responding to protected resource requests using access tokens.</li>
<li><strong>Client</strong> - An application making protected resource requests on behalf of the resource owner and with its authorization. The term client does not imply any particular implementation characteristics (e.g. whether the application executes on a server, a desktop, or other devices).</li>
<li><strong>Authorization server</strong> - The server issuing access tokens to the client after successfully authenticating the resource owner and obtaining authorization.</li>
</ul>
<h2 id="Authorisation-Code-Grant-section-4-1"><a href="#Authorisation-Code-Grant-section-4-1" class="headerlink" title="Authorisation Code Grant (section 4.1)"></a>Authorisation Code Grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.1" target="_blank" rel="noopener">section 4.1</a>)</h2><p>The authorization code grant should be very familiar if you’ve ever signed into an application using your Facebook or Google account.</p>
<h3 id="The-Flow-Part-One"><a href="#The-Flow-Part-One" class="headerlink" title="The Flow (Part One)"></a>The Flow (Part One)</h3><p>The client will redirect the user to the authorization server with the following parameters in the query string:</p>
<ul>
<li><code>response_type</code> with the value <code>code</code></li>
<li><code>client_id</code> with the client identifier</li>
<li><code>redirect_uri</code> with the client redirect URI. This parameter is optional, but if not send the user will be redirected to a pre-registered redirect URI.</li>
<li><code>scope</code> a space delimited list of scopes</li>
<li><code>state</code> with a <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener">CSRF</a> token. This parameter is optional but highly recommended. You should store the value of the CSRF token in the user’s session to be validated when they return.</li>
</ul>
<p>All of these parameters will be validated by the authorization server.</p>
<p>The user will then be asked to login to the authorization server and approve the client.</p>
<p>If the user approves the client they will be redirected from the authorisation server back to the client (specifically to the redirect URI) with the following parameters in the query string:</p>
<ul>
<li><code>code</code> with the authorization code</li>
<li><code>state</code> with the state parameter sent in the original request. You should compare this value with the value stored in the user’s session to ensure the authorization code obtained is in response to requests made by this client rather than another client application.</li>
</ul>
<h3 id="The-Flow-Part-Two"><a href="#The-Flow-Part-Two" class="headerlink" title="The Flow (Part Two)"></a>The Flow (Part Two)</h3><p>The client will now send a POST request to the authorization server with the following parameters:</p>
<ul>
<li><code>grant_type</code> with the value of <code>authorization_code</code></li>
<li><code>client_id</code> with the client identifier</li>
<li><code>client_secret</code> with the client secret</li>
<li><code>redirect_uri</code> with the same redirect URI the user was redirect back to</li>
<li><code>code</code> with the authorization code from the query string</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> this will usually be the word “Bearer” (to indicate a bearer token)</li>
<li><code>expires_in</code> with an integer representing the TTL of the access token (i.e. when the token will expire)</li>
<li><code>access_token</code> the access token itself</li>
<li><code>refresh_token</code> a refresh token that can be used to acquire a new access token when the original expires</li>
</ul>
<h2 id="Implicit-grant-section-4-2"><a href="#Implicit-grant-section-4-2" class="headerlink" title="Implicit grant (section 4.2)"></a>Implicit grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.2" target="_blank" rel="noopener">section 4.2</a>)</h2><p>The implicit grant is similar to the authorization code grant with two distinct differences.</p>
<p>It is intended to be used for user-agent-based clients (e.g. single page web apps) that can’t keep a client secret because all of the application code and storage is easily accessible.</p>
<p>Secondly instead of the authorization server returning an authorization code which is exchanged for an access token, the authorization server returns an access token.</p>
<h3 id="The-Flow"><a href="#The-Flow" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client will redirect the user to the authorization server with the following parameters in the query string:</p>
<ul>
<li><code>response_type</code> with the value <code>token</code></li>
<li><code>client_id</code> with the client identifier</li>
<li><code>redirect_uri</code> with the client redirect URI. This parameter is optional, but if not sent the user will be redirected to a pre-registered redirect URI.</li>
<li><code>scope</code> a space delimited list of scopes</li>
<li><code>state</code> with a <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener">CSRF</a> token. This parameter is optional but highly recommended. You should store the value of the CSRF token in the user’s session to be validated when they return.</li>
</ul>
<p>All of these parameters will be validated by the authorization server.</p>
<p>The user will then be asked to login to the authorization server and approve the client.</p>
<p>If the user approves the client they will be redirected back to the authorization server with the following parameters in the query string:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
<li><code>state</code> with the state parameter sent in the original request. You should compare this value with the value stored in the user’s session to ensure the authorization code obtained is in response to requests made by this client rather than another client application.</li>
</ul>
<p><strong>Note:</strong> this grant does not return a refresh token because the browser has no means of keeping it private</p>
<h2 id="Resource-owner-credentials-grant-section-4-3"><a href="#Resource-owner-credentials-grant-section-4-3" class="headerlink" title="Resource owner credentials grant (section 4.3)"></a>Resource owner credentials grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.3" target="_blank" rel="noopener">section 4.3</a>)</h2><p>This grant is a great user experience for trusted first party clients both on the web and in native device applications.</p>
<h3 id="The-Flow-1"><a href="#The-Flow-1" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client will ask the user for their authorization credentials (ususally a username and password).</p>
<p>The client then sends a POST request with following body parameters to the authorization server:</p>
<ul>
<li><code>grant_type</code> with the value <code>password</code></li>
<li><code>client_id</code> with the the client’s ID</li>
<li><code>client_secret</code> with the client’s secret</li>
<li><code>scope</code> with a space-delimited list of requested scope permissions.</li>
<li><code>username</code> with the user’s username</li>
<li><code>password</code> with the user’s password</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
<li><code>refresh_token</code> a refresh token that can be used to acquire a new access token when the original expires</li>
</ul>
<h2 id="Client-credentials-grant-section-4-4"><a href="#Client-credentials-grant-section-4-4" class="headerlink" title="Client credentials grant (section 4.4)"></a>Client credentials grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.4" target="_blank" rel="noopener">section 4.4</a>)</h2><p>The simplest of all of the OAuth 2.0 grants, this grant is suitable for machine-to-machine authentication where a specific user’s permission to access data is not required.</p>
<h3 id="The-Flow-2"><a href="#The-Flow-2" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client sends a POST request with following body parameters to the authorization server:</p>
<ul>
<li><code>grant_type</code> with the value <code>client_credentials</code></li>
<li><code>client_id</code> with the the client’s ID</li>
<li><code>client_secret</code> with the client’s secret</li>
<li><code>scope</code> with a space-delimited list of requested scope permissions.</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
</ul>
<h2 id="Refresh-token-grant-section-1-5"><a href="#Refresh-token-grant-section-1-5" class="headerlink" title="Refresh token grant (section 1.5)"></a>Refresh token grant (<a href="http://tools.ietf.org/html/rfc6749#section-1.5" target="_blank" rel="noopener">section 1.5</a>)</h2><p>Access tokens eventually expire; however some grants respond with a refresh token which enables the client to get a new access token without requiring the user to be redirected.</p>
<h3 id="The-Flow-3"><a href="#The-Flow-3" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client sends a POST request with following body parameters to the authorization server:</p>
<ul>
<li><code>grant_type</code> with the value <code>refresh_token</code></li>
<li><code>refresh_token</code> with the refresh token</li>
<li><code>client_id</code> with the the client’s ID</li>
<li><code>client_secret</code> with the client’s secret</li>
<li><code>scope</code> with a space-delimited list of requested scope permissions. This is optional; if not sent the original scopes will be used, otherwise you can request a reduced set of scopes.</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
<li><code>refresh_token</code> a refresh token that can be used to acquire a new access token when the original expires</li>
</ul>
<h2 id="Additonal-Grants"><a href="#Additonal-Grants" class="headerlink" title="Additonal Grants"></a>Additonal Grants</h2><p>There are additional grants that have been published in other specifications that I will cover in a future article.</p>
<h2 id="Which-OAuth-2-0-grant-should-I-use"><a href="#Which-OAuth-2-0-grant-should-I-use" class="headerlink" title="Which OAuth 2.0 grant should I use?"></a>Which OAuth 2.0 grant should I use?</h2><p>A grant is a method of acquiring an access token. Deciding which grants to implement depends on the type of client the end user will be using, and the experience you want for your users.</p>
<p><img src="http://alexbilbie.com/images/oauth-grants.svg" srcset="/img/loading.gif" alt="img"></p>
<h3 id="First-party-or-third-party-client"><a href="#First-party-or-third-party-client" class="headerlink" title="First party or third party client?"></a>First party or third party client?</h3><p>A first party client is a client that you trust enough to handle the end user’s authorization credentials. For example Spotify’s iPhone app is owned and developed by Spotify so therefore they implicitly trust it.</p>
<p>A third party client is a client that you don’t trust.</p>
<h3 id="Access-Token-Owner"><a href="#Access-Token-Owner" class="headerlink" title="Access Token Owner?"></a>Access Token Owner?</h3><p>An access token represents a permission granted to a client to access some protected resources.</p>
<p>If you are authorizing a machine to access resources and you don’t require the permission of a user to access said resources you should implement the client credentials grant.</p>
<p>If you require the permission of a user to access resources you need to determine the client type.</p>
<h3 id="Client-Type"><a href="#Client-Type" class="headerlink" title="Client Type?"></a>Client Type?</h3><p>Depending on whether or not the client is capable of keeping a secret will depend on which grant the client should use.</p>
<p>If the client is a web application that has a server side component then you should implement the authorization code grant.</p>
<p>If the client is a web application that has runs entirely on the front end (e.g. a single page web application) you should implement the password grant for a first party clients and the implicit grant for a third party clients.</p>
<p>If the client is a native application such as a mobile app you should implement the password grant.</p>
<p>Third party native applications should use the authorization code grant (via the native browser, not an embedded browser - e.g. for iOS push the user to Safari or use <a href="https://developer.apple.com/library/ios/documentation/SafariServices/Reference/SFSafariViewController_Ref/" target="_blank" rel="noopener">SFSafariViewController</a>, don’t use an embedded <a href="https://developer.apple.com/library/ios/documentation/WebKit/Reference/WKWebView_Ref/" target="_blank" rel="noopener">WKWebView</a>).</p>
<hr>
<blockquote>
<p><a href="http://alexbilbie.com/guide-to-oauth-2-grants/" target="_blank" rel="noopener">alexbilbie.com</a> · by Alex Bilbie</p>
</blockquote>

              <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                  <!-- 单元1 -->
                  <ins class="adsbygoogle"
                      style="display:block"
                      data-ad-client="ca-pub-9508321495212724"
                      data-ad-slot="3221759322"
                      data-ad-format="auto"
                      data-full-width-responsive="true"></ins>
              <script>
                  (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/后端/">后端</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Oauth/">Oauth</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2018/10/30/0005-obtain-principal-with-custom-provider/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Security自定义Provider如何获取更多用户信息</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2018/10/25/0003-custom-async-validators-in-angular/">
                        <span class="hidden-mobile">Angular中的自定义异步验证器</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "A Guide To OAuth 2.0 Grants&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>


















<script data-ad-client="ca-pub-9508321495212724" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


</body>
</html>
