<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="The OAuth 2.0 specification is a flexibile authorization framework that describes a number of grants (“methods”) for a client application to acquire an access token (which represents a user’s permissi">
<meta name="keywords" content="Oauth">
<meta property="og:type" content="article">
<meta property="og:title" content="A Guide To OAuth 2.0 Grants">
<meta property="og:url" content="https://wangjianchao.cn/2018/10/26/0004-a-guide-to-oauth2-grants/index.html">
<meta property="og:site_name" content="爱笑笑，爱生活">
<meta property="og:description" content="The OAuth 2.0 specification is a flexibile authorization framework that describes a number of grants (“methods”) for a client application to acquire an access token (which represents a user’s permissi">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://alexbilbie.com/images/oauth-grants.svg">
<meta property="og:updated_time" content="2019-12-02T01:41:19.948Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A Guide To OAuth 2.0 Grants">
<meta name="twitter:description" content="The OAuth 2.0 specification is a flexibile authorization framework that describes a number of grants (“methods”) for a client application to acquire an access token (which represents a user’s permissi">
<meta name="twitter:image" content="http://alexbilbie.com/images/oauth-grants.svg">





  
  
  <link rel="canonical" href="https://wangjianchao.cn/2018/10/26/0004-a-guide-to-oauth2-grants/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>A Guide To OAuth 2.0 Grants | 爱笑笑，爱生活</title>
  




  <script async src="//www.googletagmanager.com/gtag/js?id=UA-85471038-2"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-85471038-2');
    }
  </script>



  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7f5889a162b9ce28e17ffd275a476161";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script data-ad-client="ca-pub-9508321495212724" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">爱笑笑，爱生活</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section">&lt;i class&#x3D;&quot;menu-item-icon fa fa-fw fa-home&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-frontends">

    
    
    
      
    

    

    <a href="/categories/%E5%89%8D%E7%AB%AF" rel="section">&lt;i class&#x3D;&quot;menu-item-icon fa fa-fw fa-html5&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;前端</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-backends">

    
    
    
      
    

    

    <a href="/categories/%E5%90%8E%E7%AB%AF" rel="section">&lt;i class&#x3D;&quot;menu-item-icon fa fa-fw fa-envira&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;后端</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tools">

    
    
    
      
    

    

    <a href="/categories/%E5%B7%A5%E5%85%B7" rel="section">&lt;i class&#x3D;&quot;menu-item-icon fa fa-fw fa-rocket&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;工具</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section">&lt;i class&#x3D;&quot;menu-item-icon fa fa-fw fa-archive&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section">&lt;i class&#x3D;&quot;menu-item-icon fa fa-fw fa-user&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;关于</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/tinyking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank">&lt;svg width&#x3D;&quot;80&quot; height&#x3D;&quot;80&quot; viewBox&#x3D;&quot;0 0 250 250&quot; aria-hidden&#x3D;&quot;true&quot;&gt;&lt;path d&#x3D;&quot;M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z&quot;&gt;&lt;&#x2F;path&gt;&lt;path d&#x3D;&quot;M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2&quot; fill&#x3D;&quot;currentColor&quot; style&#x3D;&quot;transform-origin: 130px 106px;&quot; class&#x3D;&quot;octo-arm&quot;&gt;&lt;&#x2F;path&gt;&lt;path d&#x3D;&quot;M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z&quot; fill&#x3D;&quot;currentColor&quot; class&#x3D;&quot;octo-body&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;</a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://wangjianchao.cn/2018/10/26/0004-a-guide-to-oauth2-grants/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TinyKing">
      <meta itemprop="description" content="努力做最好的自己">
      <meta itemprop="image" content="https://static.xmt.cn/4049127922357121891.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="爱笑笑，爱生活">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">A Guide To OAuth 2.0 Grants

              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-10-26 14:24:30" itemprop="dateCreated datePublished" datetime="2018-10-26T14:24:30+00:00">2018-10-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-12-02 01:41:19" itemprop="dateModified" datetime="2019-12-02T01:41:19+00:00">2019-12-02</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/后端/" itemprop="url" rel="index"><span itemprop="name">后端</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>The <a href="http://tools.ietf.org/html/rfc6749" target="_blank" rel="noopener">OAuth 2.0 specification</a> is a flexibile authorization framework that describes a number of grants (“methods”) for a client application to acquire an access token (which represents a user’s permission for the client to access their data) which can be used to authenticate a request to an API endpoint.</p>
<a id="more"></a>
<p>The specification describes five grants for acquiring an access token:</p>
<ul>
<li>Authorization code grant</li>
<li>Implicit grant</li>
<li>Resource owner credentials grant</li>
<li>Client credentials grant</li>
<li>Refresh token grant</li>
</ul>
<p>In this post I’m going to describe each of the above grants and their appropriate use cases.</p>
<p>As a refresher here is a quick glossary of OAuth terms (taken from the core spec):</p>
<ul>
<li><strong>Resource owner (a.k.a. the User)</strong> - An entity capable of granting access to a protected resource. When the resource owner is a person, it is referred to as an end-user.</li>
<li><strong>Resource server (a.k.a. the API server)</strong> - The server hosting the protected resources, capable of accepting and responding to protected resource requests using access tokens.</li>
<li><strong>Client</strong> - An application making protected resource requests on behalf of the resource owner and with its authorization. The term client does not imply any particular implementation characteristics (e.g. whether the application executes on a server, a desktop, or other devices).</li>
<li><strong>Authorization server</strong> - The server issuing access tokens to the client after successfully authenticating the resource owner and obtaining authorization.</li>
</ul>
<h2 id="Authorisation-Code-Grant-section-4-1"><a href="#Authorisation-Code-Grant-section-4-1" class="headerlink" title="Authorisation Code Grant (section 4.1)"></a>Authorisation Code Grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.1" target="_blank" rel="noopener">section 4.1</a>)</h2><p>The authorization code grant should be very familiar if you’ve ever signed into an application using your Facebook or Google account.</p>
<h3 id="The-Flow-Part-One"><a href="#The-Flow-Part-One" class="headerlink" title="The Flow (Part One)"></a>The Flow (Part One)</h3><p>The client will redirect the user to the authorization server with the following parameters in the query string:</p>
<ul>
<li><code>response_type</code> with the value <code>code</code></li>
<li><code>client_id</code> with the client identifier</li>
<li><code>redirect_uri</code> with the client redirect URI. This parameter is optional, but if not send the user will be redirected to a pre-registered redirect URI.</li>
<li><code>scope</code> a space delimited list of scopes</li>
<li><code>state</code> with a <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener">CSRF</a> token. This parameter is optional but highly recommended. You should store the value of the CSRF token in the user’s session to be validated when they return.</li>
</ul>
<p>All of these parameters will be validated by the authorization server.</p>
<p>The user will then be asked to login to the authorization server and approve the client.</p>
<p>If the user approves the client they will be redirected from the authorisation server back to the client (specifically to the redirect URI) with the following parameters in the query string:</p>
<ul>
<li><code>code</code> with the authorization code</li>
<li><code>state</code> with the state parameter sent in the original request. You should compare this value with the value stored in the user’s session to ensure the authorization code obtained is in response to requests made by this client rather than another client application.</li>
</ul>
<h3 id="The-Flow-Part-Two"><a href="#The-Flow-Part-Two" class="headerlink" title="The Flow (Part Two)"></a>The Flow (Part Two)</h3><p>The client will now send a POST request to the authorization server with the following parameters:</p>
<ul>
<li><code>grant_type</code> with the value of <code>authorization_code</code></li>
<li><code>client_id</code> with the client identifier</li>
<li><code>client_secret</code> with the client secret</li>
<li><code>redirect_uri</code> with the same redirect URI the user was redirect back to</li>
<li><code>code</code> with the authorization code from the query string</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> this will usually be the word “Bearer” (to indicate a bearer token)</li>
<li><code>expires_in</code> with an integer representing the TTL of the access token (i.e. when the token will expire)</li>
<li><code>access_token</code> the access token itself</li>
<li><code>refresh_token</code> a refresh token that can be used to acquire a new access token when the original expires</li>
</ul>
<h2 id="Implicit-grant-section-4-2"><a href="#Implicit-grant-section-4-2" class="headerlink" title="Implicit grant (section 4.2)"></a>Implicit grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.2" target="_blank" rel="noopener">section 4.2</a>)</h2><p>The implicit grant is similar to the authorization code grant with two distinct differences.</p>
<p>It is intended to be used for user-agent-based clients (e.g. single page web apps) that can’t keep a client secret because all of the application code and storage is easily accessible.</p>
<p>Secondly instead of the authorization server returning an authorization code which is exchanged for an access token, the authorization server returns an access token.</p>
<h3 id="The-Flow"><a href="#The-Flow" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client will redirect the user to the authorization server with the following parameters in the query string:</p>
<ul>
<li><code>response_type</code> with the value <code>token</code></li>
<li><code>client_id</code> with the client identifier</li>
<li><code>redirect_uri</code> with the client redirect URI. This parameter is optional, but if not sent the user will be redirected to a pre-registered redirect URI.</li>
<li><code>scope</code> a space delimited list of scopes</li>
<li><code>state</code> with a <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="noopener">CSRF</a> token. This parameter is optional but highly recommended. You should store the value of the CSRF token in the user’s session to be validated when they return.</li>
</ul>
<p>All of these parameters will be validated by the authorization server.</p>
<p>The user will then be asked to login to the authorization server and approve the client.</p>
<p>If the user approves the client they will be redirected back to the authorization server with the following parameters in the query string:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
<li><code>state</code> with the state parameter sent in the original request. You should compare this value with the value stored in the user’s session to ensure the authorization code obtained is in response to requests made by this client rather than another client application.</li>
</ul>
<p><strong>Note:</strong> this grant does not return a refresh token because the browser has no means of keeping it private</p>
<h2 id="Resource-owner-credentials-grant-section-4-3"><a href="#Resource-owner-credentials-grant-section-4-3" class="headerlink" title="Resource owner credentials grant (section 4.3)"></a>Resource owner credentials grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.3" target="_blank" rel="noopener">section 4.3</a>)</h2><p>This grant is a great user experience for trusted first party clients both on the web and in native device applications.</p>
<h3 id="The-Flow-1"><a href="#The-Flow-1" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client will ask the user for their authorization credentials (ususally a username and password).</p>
<p>The client then sends a POST request with following body parameters to the authorization server:</p>
<ul>
<li><code>grant_type</code> with the value <code>password</code></li>
<li><code>client_id</code> with the the client’s ID</li>
<li><code>client_secret</code> with the client’s secret</li>
<li><code>scope</code> with a space-delimited list of requested scope permissions.</li>
<li><code>username</code> with the user’s username</li>
<li><code>password</code> with the user’s password</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
<li><code>refresh_token</code> a refresh token that can be used to acquire a new access token when the original expires</li>
</ul>
<h2 id="Client-credentials-grant-section-4-4"><a href="#Client-credentials-grant-section-4-4" class="headerlink" title="Client credentials grant (section 4.4)"></a>Client credentials grant (<a href="http://tools.ietf.org/html/rfc6749#section-4.4" target="_blank" rel="noopener">section 4.4</a>)</h2><p>The simplest of all of the OAuth 2.0 grants, this grant is suitable for machine-to-machine authentication where a specific user’s permission to access data is not required.</p>
<h3 id="The-Flow-2"><a href="#The-Flow-2" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client sends a POST request with following body parameters to the authorization server:</p>
<ul>
<li><code>grant_type</code> with the value <code>client_credentials</code></li>
<li><code>client_id</code> with the the client’s ID</li>
<li><code>client_secret</code> with the client’s secret</li>
<li><code>scope</code> with a space-delimited list of requested scope permissions.</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
</ul>
<h2 id="Refresh-token-grant-section-1-5"><a href="#Refresh-token-grant-section-1-5" class="headerlink" title="Refresh token grant (section 1.5)"></a>Refresh token grant (<a href="http://tools.ietf.org/html/rfc6749#section-1.5" target="_blank" rel="noopener">section 1.5</a>)</h2><p>Access tokens eventually expire; however some grants respond with a refresh token which enables the client to get a new access token without requiring the user to be redirected.</p>
<h3 id="The-Flow-3"><a href="#The-Flow-3" class="headerlink" title="The Flow"></a>The Flow</h3><p>The client sends a POST request with following body parameters to the authorization server:</p>
<ul>
<li><code>grant_type</code> with the value <code>refresh_token</code></li>
<li><code>refresh_token</code> with the refresh token</li>
<li><code>client_id</code> with the the client’s ID</li>
<li><code>client_secret</code> with the client’s secret</li>
<li><code>scope</code> with a space-delimited list of requested scope permissions. This is optional; if not sent the original scopes will be used, otherwise you can request a reduced set of scopes.</li>
</ul>
<p>The authorization server will respond with a JSON object containing the following properties:</p>
<ul>
<li><code>token_type</code> with the value <code>Bearer</code></li>
<li><code>expires_in</code> with an integer representing the TTL of the access token</li>
<li><code>access_token</code> the access token itself</li>
<li><code>refresh_token</code> a refresh token that can be used to acquire a new access token when the original expires</li>
</ul>
<h2 id="Additonal-Grants"><a href="#Additonal-Grants" class="headerlink" title="Additonal Grants"></a>Additonal Grants</h2><p>There are additional grants that have been published in other specifications that I will cover in a future article.</p>
<h2 id="Which-OAuth-2-0-grant-should-I-use"><a href="#Which-OAuth-2-0-grant-should-I-use" class="headerlink" title="Which OAuth 2.0 grant should I use?"></a>Which OAuth 2.0 grant should I use?</h2><p>A grant is a method of acquiring an access token. Deciding which grants to implement depends on the type of client the end user will be using, and the experience you want for your users.</p>
<p><img src="http://alexbilbie.com/images/oauth-grants.svg" alt="img"></p>
<h3 id="First-party-or-third-party-client"><a href="#First-party-or-third-party-client" class="headerlink" title="First party or third party client?"></a>First party or third party client?</h3><p>A first party client is a client that you trust enough to handle the end user’s authorization credentials. For example Spotify’s iPhone app is owned and developed by Spotify so therefore they implicitly trust it.</p>
<p>A third party client is a client that you don’t trust.</p>
<h3 id="Access-Token-Owner"><a href="#Access-Token-Owner" class="headerlink" title="Access Token Owner?"></a>Access Token Owner?</h3><p>An access token represents a permission granted to a client to access some protected resources.</p>
<p>If you are authorizing a machine to access resources and you don’t require the permission of a user to access said resources you should implement the client credentials grant.</p>
<p>If you require the permission of a user to access resources you need to determine the client type.</p>
<h3 id="Client-Type"><a href="#Client-Type" class="headerlink" title="Client Type?"></a>Client Type?</h3><p>Depending on whether or not the client is capable of keeping a secret will depend on which grant the client should use.</p>
<p>If the client is a web application that has a server side component then you should implement the authorization code grant.</p>
<p>If the client is a web application that has runs entirely on the front end (e.g. a single page web application) you should implement the password grant for a first party clients and the implicit grant for a third party clients.</p>
<p>If the client is a native application such as a mobile app you should implement the password grant.</p>
<p>Third party native applications should use the authorization code grant (via the native browser, not an embedded browser - e.g. for iOS push the user to Safari or use <a href="https://developer.apple.com/library/ios/documentation/SafariServices/Reference/SFSafariViewController_Ref/" target="_blank" rel="noopener">SFSafariViewController</a>, don’t use an embedded <a href="https://developer.apple.com/library/ios/documentation/WebKit/Reference/WKWebView_Ref/" target="_blank" rel="noopener">WKWebView</a>).</p>
<hr>
<blockquote>
<p><a href="http://alexbilbie.com/guide-to-oauth-2-grants/" target="_blank" rel="noopener">alexbilbie.com</a> · by Alex Bilbie</p>
</blockquote>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">

      
        <div class="post-tags">
          
            <a href="/tags/Oauth/" rel="tag"># Oauth</a>
          
        </div>
      

      
      
      
      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <!-- 单元1 -->
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9508321495212724" data-ad-slot="3221759322" data-ad-format="auto" data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/25/0003-custom-async-validators-in-angular/" rel="next" title="Angular中的自定义异步验证器">
                <i class="fa fa-chevron-left"></i> Angular中的自定义异步验证器
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/30/0005-obtain-principal-with-custom-provider/" rel="prev" title="Security自定义Provider如何获取更多用户信息">
                Security自定义Provider如何获取更多用户信息 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://static.xmt.cn/4049127922357121891.png" alt="TinyKing">
            
              <p class="site-author-name" itemprop="name">TinyKing</p>
              <div class="site-description motion-element" itemprop="description">努力做最好的自己</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">56</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/tinyking" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;tinyking" rel="noopener" target="_blank">&lt;i class&#x3D;&quot;fa fa-fw fa-github&quot;&gt;&lt;&#x2F;i&gt;GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://weibo.com/tinyking86" title="Weibo &amp;rarr; https:&#x2F;&#x2F;weibo.com&#x2F;tinyking86" rel="noopener" target="_blank">&lt;i class&#x3D;&quot;fa fa-fw fa-weibo&quot;&gt;&lt;&#x2F;i&gt;Weibo</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Authorisation-Code-Grant-section-4-1"><span class="nav-number">1.</span> <span class="nav-text">Authorisation Code Grant (section 4.1)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Flow-Part-One"><span class="nav-number">1.1.</span> <span class="nav-text">The Flow (Part One)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Flow-Part-Two"><span class="nav-number">1.2.</span> <span class="nav-text">The Flow (Part Two)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Implicit-grant-section-4-2"><span class="nav-number">2.</span> <span class="nav-text">Implicit grant (section 4.2)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Flow"><span class="nav-number">2.1.</span> <span class="nav-text">The Flow</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resource-owner-credentials-grant-section-4-3"><span class="nav-number">3.</span> <span class="nav-text">Resource owner credentials grant (section 4.3)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Flow-1"><span class="nav-number">3.1.</span> <span class="nav-text">The Flow</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Client-credentials-grant-section-4-4"><span class="nav-number">4.</span> <span class="nav-text">Client credentials grant (section 4.4)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Flow-2"><span class="nav-number">4.1.</span> <span class="nav-text">The Flow</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Refresh-token-grant-section-1-5"><span class="nav-number">5.</span> <span class="nav-text">Refresh token grant (section 1.5)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Flow-3"><span class="nav-number">5.1.</span> <span class="nav-text">The Flow</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Additonal-Grants"><span class="nav-number">6.</span> <span class="nav-text">Additonal Grants</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Which-OAuth-2-0-grant-should-I-use"><span class="nav-number">7.</span> <span class="nav-text">Which OAuth 2.0 grant should I use?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#First-party-or-third-party-client"><span class="nav-number">7.1.</span> <span class="nav-text">First party or third party client?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Access-Token-Owner"><span class="nav-number">7.2.</span> <span class="nav-text">Access Token Owner?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Client-Type"><span class="nav-number">7.3.</span> <span class="nav-text">Client Type?</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TinyKing</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.1</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>




  
  <script src="/js/scrollspy.js?v=7.1.1"></script>
<script src="/js/post-details.js?v=7.1.1"></script>



  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  

  

  

</body>
</html>
